# üö® Traffic Accident Monitor

Telegram –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Ä–æ–∂–Ω–æ-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç. –ü–æ–ª—É—á–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –î–¢–ü –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Ä–µ–≥–∏–æ–Ω–µ.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üîî **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –Ω–æ–≤—ã—Ö –∏ –∑–∞–≤–µ—Ä—à–∏–≤—à–∏—Ö—Å—è –î–¢–ü
- üë• **–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ —Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- üìç **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–≥–∏–æ–Ω–∞** - –ª—é–±–æ–π –≥–æ—Ä–æ–¥ –∏–ª–∏ –æ–±–ª–∞—Å—Ç—å
- üìä **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –î–¢–ü** –∫–æ–º–∞–Ω–¥–æ–π `/actual`
- üëÆ **–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd <–ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞>

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
YANDEX_MAPS_API_KEY=–≤–∞—à_—è–Ω–¥–µ–∫—Å_api_–∫–ª—é—á
TG_API_KEY=–≤–∞—à_telegram_bot_token
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π:

**–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Developer Console –Ø–Ω–¥–µ–∫—Å](https://developer.tech.yandex.ru/)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –≤ `.env`

**Telegram Bot Token:**
1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/newbot` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env`

### 3. –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

```bash
python main.py [--lat_min 55.55] [--lon_min 37.35] [--lat_max 55.91] [--lon_max 37.85] [--zoom 11] [--interval 15]
```

- `--lat_min`, `--lat_max` - –≥—Ä–∞–Ω–∏—Ü—ã —à–∏—Ä–æ—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –ú–æ—Å–∫–≤–∞)
- `--lon_min`, `--lon_max` - –≥—Ä–∞–Ω–∏—Ü—ã –¥–æ–ª–≥–æ—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –ú–æ—Å–∫–≤–∞)  
- `--zoom` - —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ (11-15)
- `--interval` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

### –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –≥–æ—Ä–æ–¥–∞:

```bash
python main.py --lat_min 59.80 --lon_min 30.10 --lat_max 60.10 --lon_max 30.50 --interval 30
```

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- `/start` - –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É
- `/actual` - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â–∏–µ –î–¢–ü (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö)

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- `/set_me_as_admin` - –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–µ–±—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- `/pending` - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞—è–≤–∫–∏ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏
- `/access_list` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `/approve username` - –æ–¥–æ–±—Ä–∏—Ç—å –∑–∞—è–≤–∫—É
- `/deny username` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É  
- `/revoke username` - –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- **–°–∏—Å—Ç–µ–º–∞ —Ç–∞–π–ª–æ–≤** –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –≤–µ—Ä—Å–∏–π API
- **–í–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞** —Å–æ–±—ã—Ç–∏–π –∏ –æ—à–∏–±–æ–∫

### –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö:
- `accidents.json` - –∏—Å—Ç–æ—Ä–∏—è –î–¢–ü
- `users.json` - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `pending.json` - –∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
- `known_users.json` - —Å–≤—è–∑—å username ‚Üí chat_id
- `.env` - –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

## üîê –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`
2. **–ó–∞—è–≤–∫–∞** –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞–Ω–∏—è
3. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏ "‚úÖ –û–¥–æ–±—Ä–∏—Ç—å"/"‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å"
4. **–ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ API endpoints, —á—Ç–æ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [—É—Å–ª–æ–≤–∏—è–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ø–Ω–¥–µ–∫—Å](https://yandex.ru/legal/maps_api/).